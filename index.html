<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#121212">
    <title>Tokyo Travel Guide - Discover the Best of Tokyo</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #e53935;
            --primary-light: #ff6f60;
            --primary-dark: #ab000d;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #f5f5f5;
            --light-bg: #f5f5f5;
            --light-card: #ffffff;
            --light-text: #333333;
            --shadow: 0 4px 12px rgba(0,0,0,0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: var(--transition);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-bg);
            color: var(--dark-text);
            line-height: 1.6;
            padding-top: 80px;
            padding-bottom: 60px;
            min-height: 100vh;
        }

        body.light-mode {
            background-color: var(--light-bg);
            color: var(--light-text);
        }

        /* „Éò„ÉÉ„ÉÄ„Éº */
        header {
            background-color: rgba(18, 18, 18, 0.95);
            box-shadow: var(--shadow);
            padding: 15px 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }

        body.light-mode header {
            background-color: rgba(255, 255, 255, 0.95);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .logo-icon {
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background-color: var(--dark-card);
            color: var(--dark-text);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: var(--shadow);
        }

        body.light-mode .btn {
            background-color: var(--light-card);
            color: var(--light-text);
        }

        .btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        /* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2rem;
            color: var(--primary-color);
        }
        
        .search-container {
            max-width: 600px;
            margin: 0 auto 30px;
            position: relative;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            background-color: var(--dark-card);
            color: var(--dark-text);
            font-size: 1rem;
            box-shadow: var(--shadow);
            padding-left: 50px;
        }
        
        body.light-mode .search-box {
            background-color: var(--light-card);
            color: var(--light-text);
        }
        
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
        }
        
        .filters {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 20px;
            border-radius: 20px;
            background-color: var(--dark-card);
            color: var(--dark-text);
            border: none;
            cursor: pointer;
            font-weight: 500;
        }
        
        body.light-mode .filter-btn {
            background-color: var(--light-card);
            color: var(--light-text);
        }
        
        .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .spot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .spot-card {
            background-color: var(--dark-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
        }

        body.light-mode .spot-card {
            background-color: var(--light-card);
        }

        .spot-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.25);
        }
        
        .favorite-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.6);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .favorite-btn.active {
            color: #ff4081;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .favorite-btn:hover {
            transform: scale(1.1);
        }

        .spot-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 3px solid var(--primary-color);
        }
        
        .image-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #2c3e50, #4a6491);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            border-bottom: 3px solid var(--primary-color);
        }

        .spot-info {
            padding: 20px;
        }

        .spot-name {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .spot-location {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #aaa;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        body.light-mode .spot-location {
            color: #666;
        }

        .spot-description {
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .detail-page {
            display: none;
            padding: 20px;
            animation: fadeIn 0.5s;
        }

        .detail-header {
            position: relative;
            margin-bottom: 30px;
            border-radius: 12px;
            overflow: hidden;
        }

        .detail-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            display: block;
        }
        
        .detail-image-placeholder {
            width: 100%;
            height: 350px;
            background: linear-gradient(45deg, #2c3e50, #4a6491);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .detail-title {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 1.8rem;
            max-width: 80%;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            z-index: 10;
        }
        
        .back-btn:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        .detail-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        @media (min-width: 768px) {
            .detail-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        .detail-section {
            background-color: var(--dark-card);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
        }

        body.light-mode .detail-section {
            background-color: var(--light-card);
        }

        .section-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .official-link {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .official-link:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .map-container {
            height: 300px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-top: 15px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: bold;
        }
        
        .favorites-container {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid var(--primary-color);
        }
        
        .favorites-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .no-favorites {
            text-align: center;
            padding: 30px;
            color: #aaa;
            font-style: italic;
        }

        /* „Éï„ÉÉ„Çø„Éº */
        footer {
            background-color: rgba(18, 18, 18, 0.95);
            padding: 20px;
            text-align: center;
            font-size: 0.9rem;
            color: #aaa;
        }

        body.light-mode footer {
            background-color: rgba(255, 255, 255, 0.95);
            color: #666;
        }

        .contact-link {
            color: var(--primary-color);
            text-decoration: none;
            margin-top: 5px;
            display: block;
        }

        .contact-link:hover {
            text-decoration: underline;
        }

        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }

        /* Ë®ÄË™ûÈÅ∏Êäû„ÅÆ„Çπ„Çø„Ç§„É´ */
        .lang-selector {
            display: flex;
            gap: 5px;
        }

        .lang-btn {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
        }


        /* „É¢„Éê„Ç§„É´Ë°®Á§∫ÊôÇ„ÅÆË™øÊï¥ */
        @media (max-width: 768px) {
            body {
                padding-top: 110px;
            }

            header {
                min-height: 90px;
                height: auto;
                flex-wrap: wrap;
            }
            
            .controls {
                width: 100%;
                justify-content: space-between;
                margin-top: 10px;
            }
            
            .spot-grid {
                grid-template-columns: 1fr;
            }
            
            .detail-image {
                height: 250px;
            }
            
            .detail-title {
                font-size: 1.4rem;
                padding: 10px 15px;
            }
            
            .filters {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header>
        <div class="logo">
            <div class="logo-icon">T</div>
            <span class="app-name">Tokyo Travel Guide</span>
        </div>
        <div class="controls">
            <div class="lang-selector">
                <button class="btn lang-btn active" data-lang="en">EN</button>
                <button class="btn lang-btn" data-lang="zh">‰∏≠Êñá</button>
                <button class="btn lang-btn" data-lang="ja">Êó•Êú¨Ë™û</button>
            </div>
            <button class="btn mode-toggle" id="modeToggle">
                <span class="mode-icon">üåô</span>
            </button>
        </div>
    </header>

    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
    <div class="container">
        <h1 class="main-title">Discover Tokyo's Top Attractions</h1>
        
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-box" id="searchInput" placeholder="Search attractions...">
        </div>
        
        <div class="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="popular">Popular</button>
            <button class="filter-btn" data-filter="nature">Nature</button>
            <button class="filter-btn" data-filter="culture">Culture</button>
            <button class="filter-btn" data-filter="family">Family</button>
        </div>
        
        <div class="main-page" id="mainPage">
            <div class="spot-grid" id="spotGrid">
                <!-- „Çπ„Éù„ÉÉ„Éà„Ç´„Éº„Éâ„ÅØJavaScript„ÅßÁîüÊàê -->
            </div>
            
            <div class="favorites-container" id="favoritesSection">
                <h2 class="favorites-title"><i class="fas fa-heart"></i> Your Favorites</h2>
                <div class="favorites-grid" id="favoritesGrid">
                    <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä„Çπ„Éù„ÉÉ„Éà„ÅØJavaScript„ÅßÁîüÊàê -->
                </div>
            </div>
        </div>
        
        <div class="detail-page" id="detailPage">
            <!-- Ë©≥Á¥∞„Éö„Éº„Ç∏„ÅØJavaScript„ÅßÁîüÊàê -->
        </div>
    </div>

    <!-- „Éï„ÉÉ„Çø„Éº -->
    <footer>
        <div>Contact us</div>
        <a href="mailto:mementomorikatsu@gmail.com" class="contact-link">mementomorikatsu@gmail.com</a>
    </footer>

    <script>
        // Ë¶≥ÂÖâÂú∞„Éá„Éº„Çø
        const spots = [
            {
                id: 1,
                name: {
                    en: "Asakusa & Tokyo Skytree",
                    zh: "ÊµÖËçâÔºÜ‰∏ú‰∫¨Êô¥Á©∫Â°î",
                    ja: "ÊµÖËçâ„ÉªÊù±‰∫¨„Çπ„Ç´„Ç§„ÉÑ„É™„Éº"
                },
                description: {
                    en: "Experience traditional Japanese culture at Senso-ji Temple and enjoy panoramic views of Tokyo from the iconic Tokyo Skytree.",
                    zh: "Âú®ÊµÖËçâÂØ∫‰ΩìÈ™åÊó•Êú¨‰º†ÁªüÊñáÂåñÔºåÂπ∂‰ªéÊ†áÂøóÊÄßÁöÑ‰∏ú‰∫¨Êô¥Á©∫Â°îÊ¨£Ëµè‰∏ú‰∫¨ÂÖ®ÊôØ„ÄÇ",
                    ja: "ÊµÖËçâÂØ∫„ÅßÊó•Êú¨„ÅÆ‰ºùÁµ±ÊñáÂåñ„Çí‰ΩìÈ®ì„Åó„ÄÅÊù±‰∫¨„Çπ„Ç´„Ç§„ÉÑ„É™„Éº„Åã„ÇâÊù±‰∫¨„ÅÆ„Éë„Éé„É©„Éû„ÇíÊ•Ω„Åó„ÇÅ„Åæ„Åô„ÄÇ"
                },
                location: {
                    en: "Asakusa, Taito City",
                    zh: "Âè∞‰∏úÂå∫ÊµÖËçâ",
                    ja: "Âè∞Êù±Âå∫ÊµÖËçâ"
                },
                access: {
                    en: "5-minute walk from Asakusa Station (Tokyo Metro Ginza Line)",
                    zh: "‰ªéÊµÖËçâÁ´ôÔºà‰∏ú‰∫¨Âú∞ÈìÅÈì∂Â∫ßÁ∫øÔºâÊ≠•Ë°å5ÂàÜÈíü",
                    ja: "Êù±‰∫¨„É°„Éà„É≠ÈäÄÂ∫ßÁ∑öÊµÖËçâÈßÖ„Åã„ÇâÂæíÊ≠©5ÂàÜ"
                },
                nearby: {
                    en: "Nakamise Shopping Street, Sumida River",
                    zh: "‰ª≤ËßÅ‰∏ñÂïÜ‰∏öË°ó„ÄÅÈöÖÁî∞Â∑ù",
                    ja: "‰ª≤Ë¶ã‰∏ñÂïÜÂ∫óË°ó„ÄÅÈöÖÁî∞Â∑ù"
                },
                official: "https://www.tokyo-skytree.jp/en/",
                image: "https://images.unsplash.com/photo-1588416936137-704fba5b0f31?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["popular", "culture"]
            },
            {
                id: 2,
                name: {
                    en: "Ueno Area",
                    zh: "‰∏äÈáéÂú∞Âå∫",
                    ja: "‰∏äÈáé„Ç®„É™„Ç¢"
                },
                description: {
                    en: "Explore Ueno Park with its museums, zoo, and beautiful cherry blossoms in spring.",
                    zh: "Êé¢Á¥¢‰∏äÈáéÂÖ¨Âõ≠ÁöÑÂçöÁâ©È¶Ü„ÄÅÂä®Áâ©Âõ≠ÂíåÊò•Â≠£Áæé‰∏ΩÁöÑÊ®±Ëä±„ÄÇ",
                    ja: "ÂçöÁâ©È§®„ÄÅÂãïÁâ©Âúí„ÄÅÊò•„ÅÆÁæé„Åó„ÅÑÊ°ú„ÅåÊ•Ω„Åó„ÇÅ„Çã‰∏äÈáéÂÖ¨Âúí„ÇíÊé¢Á¥¢„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                },
                location: {
                    en: "Ueno, Taito City",
                    zh: "Âè∞‰∏úÂå∫‰∏äÈáé",
                    ja: "Âè∞Êù±Âå∫‰∏äÈáé"
                },
                access: {
                    en: "Direct access from JR Ueno Station",
                    zh: "‰ªéJR‰∏äÈáéÁ´ôÁõ¥Ëææ",
                    ja: "JR‰∏äÈáéÈßÖÁõ¥Áµê"
                },
                nearby: {
                    en: "Ueno Zoo, Tokyo National Museum",
                    zh: "‰∏äÈáéÂä®Áâ©Âõ≠„ÄÅ‰∏ú‰∫¨ÂõΩÁ´ãÂçöÁâ©È¶Ü",
                    ja: "‰∏äÈáéÂãïÁâ©Âúí„ÄÅÊù±‰∫¨ÂõΩÁ´ãÂçöÁâ©È§®"
                },
                official: "https://www.ueno.or.jp/en/",
                image: "https://images.unsplash.com/photo-1605244471298-9b0acb7d90a7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["culture", "family"]
            },
            {
                id: 3,
                name: {
                    en: "Shibuya & Harajuku",
                    zh: "Ê∂©Ë∞∑ÔºÜÂéüÂÆø",
                    ja: "Ê∏ãË∞∑„ÉªÂéüÂÆø"
                },
                description: {
                    en: "Visit the famous Shibuya Crossing, experience youth culture in Harajuku, and enjoy shopping and dining.",
                    zh: "ÂèÇËßÇËëóÂêçÁöÑÊ∂©Ë∞∑ÂçÅÂ≠óË∑ØÂè£ÔºåÂú®ÂéüÂÆø‰ΩìÈ™åÈùíÂπ¥ÊñáÂåñÔºå‰∫´ÂèóË¥≠Áâ©ÂíåÁæéÈ£ü„ÄÇ",
                    ja: "ÊúâÂêç„Å™Ê∏ãË∞∑„Çπ„ÇØ„É©„É≥„Éñ„É´‰∫§Â∑ÆÁÇπ„ÇíË®™„Çå„ÄÅÂéüÂÆø„ÅßËã•ËÄÖÊñáÂåñ„Çí‰ΩìÈ®ì„Åó„ÄÅ„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞„ÇÑÈ£ü‰∫ã„ÇíÊ•Ω„Åó„ÇÅ„Åæ„Åô„ÄÇ"
                },
                location: {
                    en: "Shibuya City",
                    zh: "Ê∂©Ë∞∑Âå∫",
                    ja: "Ê∏ãË∞∑Âå∫"
                },
                access: {
                    en: "Direct access from JR Shibuya Station and JR Harajuku Station",
                    zh: "‰ªéJRÊ∂©Ë∞∑Á´ôÂíåJRÂéüÂÆøÁ´ôÁõ¥Ëææ",
                    ja: "JRÊ∏ãË∞∑ÈßÖ„ÄÅJRÂéüÂÆøÈßÖÁõ¥Áµê"
                },
                nearby: {
                    en: "Meiji Shrine, Yoyogi Park",
                    zh: "ÊòéÊ≤ªÁ•ûÂÆ´„ÄÅ‰ª£‰ª£Êú®ÂÖ¨Âõ≠",
                    ja: "ÊòéÊ≤ªÁ•ûÂÆÆ„ÄÅ‰ª£„ÄÖÊú®ÂÖ¨Âúí"
                },
                official: "https://www.shibuya-scramble-square.com/en/",
                image: "https://images.unsplash.com/photo-1503899036084-c55cdd92da26?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["popular"]
            },
            {
                id: 4,
                name: {
                    en: "Ginza & Marunouchi",
                    zh: "Èì∂Â∫ßÔºÜ‰∏∏‰πãÂÜÖ",
                    ja: "ÈäÄÂ∫ß„Éª‰∏∏„ÅÆÂÜÖ"
                },
                description: {
                    en: "Tokyo's premier shopping and business district with luxury boutiques, department stores, and gourmet restaurants.",
                    zh: "‰∏ú‰∫¨È¶ñÂ±à‰∏ÄÊåáÁöÑË¥≠Áâ©ÂíåÂïÜ‰∏öÂå∫ÔºåÊã•ÊúâË±™ÂçéÁ≤æÂìÅÂ∫ó„ÄÅÁôæË¥ßÂïÜÂ∫óÂíåÁæéÈ£üÈ§êÂéÖ„ÄÇ",
                    ja: "È´òÁ¥ö„Éñ„ÉÜ„Ç£„ÉÉ„ÇØ„ÄÅ„Éá„Éë„Éº„Éà„ÄÅ„Ç∞„É´„É°„É¨„Çπ„Éà„É©„É≥„ÅåÈõÜ„Åæ„ÇãÊù±‰∫¨Èöè‰∏Ä„ÅÆ„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞„Éª„Éì„Ç∏„Éç„ÇπÂú∞Âå∫„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Chuo City",
                    zh: "‰∏≠Â§ÆÂå∫",
                    ja: "‰∏≠Â§ÆÂå∫"
                },
                access: {
                    en: "Direct access from JR Tokyo Station",
                    zh: "‰ªéJR‰∏ú‰∫¨Á´ôÁõ¥Ëææ",
                    ja: "JRÊù±‰∫¨ÈßÖÁõ¥Áµê"
                },
                nearby: {
                    en: "Imperial Palace, Hibiya Park",
                    zh: "ÁöáÂ±Ö„ÄÅÊó•ÊØîË∞∑ÂÖ¨Âõ≠",
                    ja: "ÁöáÂ±Ö„ÄÅÊó•ÊØîË∞∑ÂÖ¨Âúí"
                },
                official: "https://ginza.jp/en/",
                image: "https://images.unsplash.com/photo-1609621838510-5adca1ee229a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["popular"]
            },
            {
                id: 5,
                name: {
                    en: "Tokyo Disney Resort",
                    zh: "‰∏ú‰∫¨Ëø™Â£´Â∞ºÂ∫¶ÂÅáÂå∫",
                    ja: "Êù±‰∫¨„Éá„Ç£„Ç∫„Éã„Éº„É™„Çæ„Éº„Éà"
                },
                description: {
                    en: "Experience the magic of Disney with two theme parks: Tokyo Disneyland and Tokyo DisneySea.",
                    zh: "Âú®‰∏§‰∏™‰∏ªÈ¢òÂÖ¨Âõ≠‰ΩìÈ™åËø™Â£´Â∞ºÁöÑÈ≠îÂäõÔºö‰∏ú‰∫¨Ëø™Â£´Â∞º‰πêÂõ≠Âíå‰∏ú‰∫¨Ëø™Â£´Â∞ºÊµ∑Ê¥ã„ÄÇ",
                    ja: "Êù±‰∫¨„Éá„Ç£„Ç∫„Éã„Éº„É©„É≥„Éâ„Å®Êù±‰∫¨„Éá„Ç£„Ç∫„Éã„Éº„Ç∑„Éº„ÅÆ2„Å§„ÅÆ„ÉÜ„Éº„Éû„Éë„Éº„ÇØ„Åß„Éá„Ç£„Ç∫„Éã„Éº„ÅÆÈ≠îÊ≥ï„Çí‰ΩìÈ®ì„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                },
                location: {
                    en: "Urayasu, Chiba",
                    zh: "ÂçÉÂè∂ÂéøÊµ¶ÂÆâÂ∏Ç",
                    ja: "ÂçÉËëâÁúåÊµ¶ÂÆâÂ∏Ç"
                },
                access: {
                    en: "5-minute walk from JR Maihama Station",
                    zh: "‰ªéJRËàûÊª®Á´ôÊ≠•Ë°å5ÂàÜÈíü",
                    ja: "JRËàûÊµúÈßÖ„Åã„ÇâÂæíÊ≠©5ÂàÜ"
                },
                nearby: {
                    en: "Ikspiari Shopping Mall",
                    zh: "‰ºäÂÖãÊñØÁöÆÂÑøËéâË¥≠Áâ©‰∏≠ÂøÉ",
                    ja: "„Ç§„ÇØ„Çπ„Éî„Ç¢„É™"
                },
                official: "https://www.tokyodisneyresort.jp/en/",
                image: "https://images.unsplash.com/photo-1595104666590-65f5d1d8b00b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["family", "popular"]
            },
            {
                id: 6,
                name: {
                    en: "Nikko",
                    zh: "Êó•ÂÖâ",
                    ja: "Êó•ÂÖâ"
                },
                description: {
                    en: "A UNESCO World Heritage site famous for Toshogu Shrine and beautiful natural scenery.",
                    zh: "ËÅîÂêàÂõΩÊïôÁßëÊñáÁªÑÁªá‰∏ñÁïåÈÅó‰∫ßÔºå‰ª•Êó•ÂÖâ‰∏úÁÖßÂÆ´ÂíåÁæé‰∏ΩÁöÑËá™ÁÑ∂È£éÂÖâËÄåÈóªÂêç„ÄÇ",
                    ja: "Êó•ÂÖâÊù±ÁÖßÂÆÆ„Å®Áæé„Åó„ÅÑËá™ÁÑ∂ÊôØË¶≥„ÅßÊúâÂêç„Å™„É¶„Éç„Çπ„Ç≥‰∏ñÁïåÈÅ∫Áî£„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Nikko, Tochigi",
                    zh: "Ê†ÉÊú®ÂéøÊó•ÂÖâÂ∏Ç",
                    ja: "Ê†ÉÊú®ÁúåÊó•ÂÖâÂ∏Ç"
                },
                access: {
                    en: "2 hours from Tokyo by train",
                    zh: "‰ªé‰∏ú‰∫¨‰πòÁÅ´ËΩ¶2Â∞èÊó∂",
                    ja: "Êù±‰∫¨„Åã„ÇâÈõªËªä„Åß2ÊôÇÈñì"
                },
                nearby: {
                    en: "Lake Chuzenji, Kegon Falls",
                    zh: "‰∏≠Á¶ÖÂØ∫Êπñ„ÄÅÂçé‰∏•ÁÄëÂ∏É",
                    ja: "‰∏≠Á¶ÖÂØ∫Êπñ„ÄÅËèØÂé≥„ÅÆÊªù"
                },
                official: "https://www.visitnikko.jp/en/",
                image: "https://images.unsplash.com/photo-1542641728-6ca359b085f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["nature", "culture"]
            },
            {
                id: 7,
                name: {
                    en: "Mount Takao",
                    zh: "È´òÂ∞æÂ±±",
                    ja: "È´òÂ∞æÂ±±"
                },
                description: {
                    en: "A popular hiking destination with scenic trails, a temple, and panoramic views of Tokyo.",
                    zh: "‰∏Ä‰∏™ÂèóÊ¨¢ËøéÁöÑÂæíÊ≠•ÊóÖË°åÁõÆÁöÑÂú∞ÔºåÊã•ÊúâÈ£éÊôØ‰ºòÁæéÁöÑÂ∞èÂæÑ„ÄÅÂØ∫Â∫ôÂíå‰∏ú‰∫¨ÁöÑÂÖ®ÊôØ„ÄÇ",
                    ja: "ÊôØË¶≥„ÅÆËâØ„ÅÑ„Éè„Ç§„Ç≠„É≥„Ç∞„Ç≥„Éº„Çπ„ÄÅ„ÅäÂØ∫„ÄÅÊù±‰∫¨„ÅÆ„Éë„Éé„É©„Éû„Éì„É•„Éº„ÅåÊ•Ω„Åó„ÇÅ„Çã‰∫∫Ê∞ó„ÅÆ„Éè„Ç§„Ç≠„É≥„Ç∞„Çπ„Éù„ÉÉ„Éà„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Hachioji, Tokyo",
                    zh: "‰∏ú‰∫¨ÈÉΩÂÖ´ÁéãÂ≠êÂ∏Ç",
                    ja: "Êù±‰∫¨ÈÉΩÂÖ´ÁéãÂ≠êÂ∏Ç"
                },
                access: {
                    en: "1 hour from Shinjuku by train",
                    zh: "‰ªéÊñ∞ÂÆø‰πòÁÅ´ËΩ¶1Â∞èÊó∂",
                    ja: "Êñ∞ÂÆø„Åã„ÇâÈõªËªä„Åß1ÊôÇÈñì"
                },
                nearby: {
                    en: "Takao 599 Museum",
                    zh: "È´òÂ∞æ599ÂçöÁâ©È¶Ü",
                    ja: "È´òÂ∞æ599„Éü„É•„Éº„Ç∏„Ç¢„É†"
                },
                official: "https://www.takaotozan.co.jp/foreign/en/",
                image: "https://images.unsplash.com/photo-1534237886190-ced735ca4b73?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["nature"]
            },
            {
                id: 8,
                name: {
                    en: "Shinjuku",
                    zh: "Êñ∞ÂÆø",
                    ja: "Êñ∞ÂÆø"
                },
                description: {
                    en: "Tokyo's bustling commercial and entertainment center with skyscrapers, shopping, and nightlife.",
                    zh: "‰∏ú‰∫¨ÁπÅÂçéÁöÑÂïÜ‰∏öÂíåÂ®±‰πê‰∏≠ÂøÉÔºåÊã•ÊúâÊë©Â§©Â§ßÊ•º„ÄÅË¥≠Áâ©ÂíåÂ§úÁîüÊ¥ª„ÄÇ",
                    ja: "Ë∂ÖÈ´òÂ±§„Éì„É´„ÄÅ„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞„ÄÅ„Éä„Ç§„Éà„É©„Ç§„Éï„ÅåÊ•Ω„Åó„ÇÅ„ÇãÊù±‰∫¨„ÅÆË≥ë„ÇÑ„Åã„Å™ÂïÜÊ•≠„ÉªÂ®ØÊ•Ω„Çª„É≥„Çø„Éº„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Shinjuku City",
                    zh: "Êñ∞ÂÆøÂå∫",
                    ja: "Êñ∞ÂÆøÂå∫"
                },
                access: {
                    en: "Direct access from JR Shinjuku Station",
                    zh: "‰ªéJRÊñ∞ÂÆøÁ´ôÁõ¥Ëææ",
                    ja: "JRÊñ∞ÂÆøÈßÖÁõ¥Áµê"
                },
                nearby: {
                    en: "Shinjuku Gyoen Garden, Kabukicho",
                    zh: "Êñ∞ÂÆøÂæ°Ëãë„ÄÅÊ≠åËàû‰ºéÁî∫",
                    ja: "Êñ∞ÂÆøÂæ°Ëãë„ÄÅÊ≠åËàû‰ºéÁî∫"
                },
                official: "https://www.gotokyo.org/en/spot/15/index.html",
                image: "https://images.unsplash.com/photo-1582657118090-af35eefb9958?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["popular"]
            },
            {
                id: 9,
                name: {
                    en: "Ghibli Museum",
                    zh: "ÂêâÂçúÂäõÁæéÊúØÈ¶Ü",
                    ja: "‰∏âÈ∑π„ÅÆÊ£Æ„Ç∏„Éñ„É™ÁæéË°ìÈ§®"
                },
                description: {
                    en: "A museum dedicated to the works of Studio Ghibli, featuring original animations and exhibits.",
                    zh: "Ëá¥Âäõ‰∫éÂêâÂçúÂäõÂ∑•‰ΩúÂÆ§‰ΩúÂìÅÁöÑÂçöÁâ©È¶ÜÔºåÂ±ïÁ§∫ÂéüÂàõÂä®ÁîªÂíåÂ±ïÂìÅ„ÄÇ",
                    ja: "„Çπ„Çø„Ç∏„Ç™„Ç∏„Éñ„É™„ÅÆ‰ΩúÂìÅ„Å´ÁâπÂåñ„Åó„ÅüÂçöÁâ©È§®„Åß„ÄÅ„Ç™„É™„Ç∏„Éä„É´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇÑÂ±ïÁ§∫ÂìÅ„ÇíÁ¥π‰ªã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
                },
                location: {
                    en: "Mitaka, Tokyo",
                    zh: "‰∏ú‰∫¨ÈÉΩ‰∏âÈπ∞Â∏Ç",
                    ja: "Êù±‰∫¨ÈÉΩ‰∏âÈ∑πÂ∏Ç"
                },
                access: {
                    en: "15 minutes from Shinjuku by train",
                    zh: "‰ªéÊñ∞ÂÆø‰πòÁÅ´ËΩ¶15ÂàÜÈíü",
                    ja: "Êñ∞ÂÆø„Åã„ÇâÈõªËªä„Åß15ÂàÜ"
                },
                nearby: {
                    en: "Inokashira Park",
                    zh: "‰∫ï‰πãÂ§¥ÂÖ¨Âõ≠",
                    ja: "‰∫ï„ÅÆÈ†≠ÂÖ¨Âúí"
                },
                official: "http://www.ghibli-museum.jp/en/",
                image: "https://images.unsplash.com/photo-1568667256549-094345857637?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["culture", "family"]
            },
            {
                id: 10,
                name: {
                    en: "Okutama",
                    zh: "Â••Â§öÊë©",
                    ja: "Â••Â§öÊë©"
                },
                description: {
                    en: "A natural retreat with mountains, lakes, and hiking trails located in western Tokyo.",
                    zh: "‰Ωç‰∫é‰∏ú‰∫¨Ë•øÈÉ®ÁöÑËá™ÁÑ∂Â∫¶ÂÅáËÉúÂú∞ÔºåÊã•ÊúâÂ±±ËÑâ„ÄÅÊπñÊ≥äÂíåÂæíÊ≠•Â∞èÂæÑ„ÄÇ",
                    ja: "Êù±‰∫¨Ë•øÈÉ®„Å´‰ΩçÁΩÆ„Åô„ÇãÂ±±„ÄÅÊπñ„ÄÅ„Éè„Ç§„Ç≠„É≥„Ç∞„Ç≥„Éº„Çπ„Åå„ÅÇ„ÇãËá™ÁÑ∂„ÅÆ„É™„Éà„É™„Éº„ÉàÂú∞„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Okutama, Tokyo",
                    zh: "‰∏ú‰∫¨ÈÉΩÂ••Â§öÊë©Áî∫",
                    ja: "Êù±‰∫¨ÈÉΩÂ••Â§öÊë©Áî∫"
                },
                access: {
                    en: "2 hours from Shinjuku by train",
                    zh: "‰ªéÊñ∞ÂÆø‰πòÁÅ´ËΩ¶2Â∞èÊó∂",
                    ja: "Êñ∞ÂÆø„Åã„ÇâÈõªËªä„Åß2ÊôÇÈñì"
                },
                nearby: {
                    en: "Okutama Lake, Hikawa Valley",
                    zh: "Â••Â§öÊë©Êπñ„ÄÅÊ∞∑Â∑ùÊ∫™Ë∞∑",
                    ja: "Â••Â§öÊë©Êπñ„ÄÅÊ∞∑Â∑ùÊ∏ìË∞∑"
                },
                official: "https://www.okutama-kanko.jp/en/",
                image: "https://images.unsplash.com/photo-1565958011703-72f85826667c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["nature"]
            },
            {
                id: 11,
                name: {
                    en: "Hakone",
                    zh: "ÁÆ±Ê†π",
                    ja: "ÁÆ±Ê†π"
                },
                description: {
                    en: "A famous hot spring resort area with views of Mount Fuji, lakes, and art museums.",
                    zh: "ËëóÂêçÁöÑÊ∏©Ê≥âÂ∫¶ÂÅáÂå∫ÔºåÊã•ÊúâÂØåÂ£´Â±±ÊôØËßÇ„ÄÅÊπñÊ≥äÂíåÁæéÊúØÈ¶Ü„ÄÇ",
                    ja: "ÂØåÂ£´Â±±„ÅÆÊôØËâ≤„ÄÅÊπñ„ÄÅÁæéË°ìÈ§®„ÅåÊ•Ω„Åó„ÇÅ„ÇãÊúâÂêç„Å™Ê∏©Ê≥â„É™„Çæ„Éº„Éà„Ç®„É™„Ç¢„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Hakone, Kanagawa",
                    zh: "Á•ûÂ•àÂ∑ùÂéøÁÆ±Ê†πÁî∫",
                    ja: "Á•ûÂ•àÂ∑ùÁúåÁÆ±Ê†πÁî∫"
                },
                access: {
                    en: "1.5 hours from Shinjuku by train",
                    zh: "‰ªéÊñ∞ÂÆø‰πòÁÅ´ËΩ¶1.5Â∞èÊó∂",
                    ja: "Êñ∞ÂÆø„Åã„ÇâÈõªËªä„Åß1.5ÊôÇÈñì"
                },
                nearby: {
                    en: "Lake Ashi, Hakone Shrine",
                    zh: "Ëä¶‰πãÊπñ„ÄÅÁÆ±Ê†πÁ•ûÁ§æ",
                    ja: "Ëä¶„ÉéÊπñ„ÄÅÁÆ±Ê†πÁ•ûÁ§æ"
                },
                official: "https://www.hakone.or.jp/en/",
                image: "https://images.unsplash.com/photo-1593696140826-c58b021acf8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["nature", "popular"]
            },
            {
                id: 12,
                name: {
                    en: "Kamakura & Enoshima",
                    zh: "Èï∞‰ªìÔºÜÊ±ü‰πãÂ≤õ",
                    ja: "ÈéåÂÄâ„ÉªÊ±ü„ÉéÂ≥∂"
                },
                description: {
                    en: "Historic coastal town with temples, shrines, and a beautiful island connected by bridge.",
                    zh: "ÂéÜÂè≤ÊÇ†‰πÖÁöÑÊµ∑Êª®Â∞èÈïáÔºåÊã•ÊúâÂØ∫Â∫ô„ÄÅÁ•ûÁ§æÂíå‰∏ÄÂ∫ßÈÄöËøáÊ°•Ê¢ÅËøûÊé•ÁöÑÁæé‰∏ΩÂ≤õÂ±ø„ÄÇ",
                    ja: "ÂØ∫Èô¢„ÄÅÁ•ûÁ§æ„ÄÅÊ©ã„Åß„Å§„Å™„Åå„Å£„ÅüÁæé„Åó„ÅÑÂ≥∂„Åå„ÅÇ„ÇãÊ≠¥Âè≤ÁöÑ„Å™Êµ∑Â≤∏„ÅÆÁî∫„Åß„Åô„ÄÇ"
                },
                location: {
                    en: "Kamakura, Kanagawa",
                    zh: "Á•ûÂ•àÂ∑ùÂéøÈï∞‰ªìÂ∏Ç",
                    ja: "Á•ûÂ•àÂ∑ùÁúåÈéåÂÄâÂ∏Ç"
                },
                access: {
                    en: "1 hour from Tokyo by train",
                    zh: "‰ªé‰∏ú‰∫¨‰πòÁÅ´ËΩ¶1Â∞èÊó∂",
                    ja: "Êù±‰∫¨„Åã„ÇâÈõªËªä„Åß1ÊôÇÈñì"
                },
                nearby: {
                    en: "Great Buddha of Kamakura, Enoshima Shrine",
                    zh: "Èï∞‰ªìÂ§ß‰Ωõ„ÄÅÊ±üÂ≤õÁ•ûÁ§æ",
                    ja: "ÈéåÂÄâÂ§ß‰ªè„ÄÅÊ±üÂ≥∂Á•ûÁ§æ"
                },
                official: "https://www.enoshima-seacandle.com/en/",
                image: "https://images.unsplash.com/photo-1593697820826-f4afab81d7c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                tags: ["culture", "nature"]
            }
        ];

        // ÂàùÊúüË®≠ÂÆö
        let currentLanguage = 'en';
        let darkMode = true;
        let currentSpotId = null;
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let activeFilter = 'all';

        // DOMË¶ÅÁ¥†
        const mainPage = document.getElementById('mainPage');
        const detailPage = document.getElementById('detailPage');
        const spotGrid = document.getElementById('spotGrid');
        const favoritesGrid = document.getElementById('favoritesGrid');
        const favoritesSection = document.getElementById('favoritesSection');
        const appName = document.querySelector('.app-name');
        const mainTitle = document.querySelector('.main-title');
        const modeToggle = document.getElementById('modeToggle');
        const modeIcon = document.querySelector('.mode-icon');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');

        // ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            // Ë®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø
            loadSettings();
            // „Çπ„Éù„ÉÉ„Éà„ÅÆË°®Á§∫
            renderSpots();
            // „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆË°®Á§∫
            renderFavorites();
            // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
            setupEventListeners();
        });

        // Ë®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø
        function loadSettings() {
            // Ë®ÄË™ûË®≠ÂÆö
            const savedLanguage = localStorage.getItem('language');
            if (savedLanguage) {
                currentLanguage = savedLanguage;
                updateLanguageButtons();
            }
            
            // „ÉÄ„Éº„ÇØ„É¢„Éº„ÉâË®≠ÂÆö
            const savedMode = localStorage.getItem('darkMode');
            if (savedMode !== null) {
                darkMode = savedMode === 'true';
                updateMode();
            }
        }

        // Ë®ÄË™û„Éú„Çø„É≥„ÅÆÊõ¥Êñ∞
        function updateLanguageButtons() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === currentLanguage) {
                    btn.classList.add('active');
                }
            });
            
            // „ÉÜ„Ç≠„Çπ„Éà„ÅÆÊõ¥Êñ∞
            updateTexts();
        }

        // „ÉÜ„Ç≠„Çπ„Éà„ÅÆÊõ¥Êñ∞
        function updateTexts() {
            // „Ç¢„Éó„É™Âêç
            appName.textContent = currentLanguage === 'en' ? 'Tokyo Travel Guide' : 
                                currentLanguage === 'zh' ? '‰∏ú‰∫¨ÊóÖÊ∏∏ÊåáÂçó' : 'Êù±‰∫¨Ë¶≥ÂÖâ„Ç¨„Ç§„Éâ';
            
            // „É°„Ç§„É≥„Çø„Ç§„Éà„É´
            mainTitle.textContent = currentLanguage === 'en' ? 'Discover Tokyo\'s Top Attractions' : 
                                currentLanguage === 'zh' ? 'Êé¢Á¥¢‰∏ú‰∫¨ÁÉ≠Èó®ÊôØÁÇπ' : 'Êù±‰∫¨„ÅÆ‰∫∫Ê∞óË¶≥ÂÖâ„Çπ„Éù„ÉÉ„Éà„ÇíÁô∫Ë¶ã';
            
            // Ê§úÁ¥¢„Éú„ÉÉ„ÇØ„Çπ„ÅÆ„Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„Éº
            searchInput.placeholder = currentLanguage === 'en' ? 'Search attractions...' : 
                                currentLanguage === 'zh' ? 'ÊêúÁ¥¢ÊôØÁÇπ...' : 'Ë¶≥ÂÖâ„Çπ„Éù„ÉÉ„Éà„ÇíÊ§úÁ¥¢...';
            
            // „Éï„Ç£„É´„Çø„Éº„Éú„Çø„É≥„ÅÆÊõ¥Êñ∞
            filterButtons.forEach(btn => {
                const filter = btn.dataset.filter;
                btn.textContent = 
                    filter === 'all' ? (currentLanguage === 'en' ? 'All' : currentLanguage === 'zh' ? 'ÂÖ®ÈÉ®' : '„Åô„Åπ„Å¶') :
                    filter === 'popular' ? (currentLanguage === 'en' ? 'Popular' : currentLanguage === 'zh' ? 'ÁÉ≠Èó®' : '‰∫∫Ê∞ó') :
                    filter === 'nature' ? (currentLanguage === 'en' ? 'Nature' : currentLanguage === 'zh' ? 'Ëá™ÁÑ∂' : 'Ëá™ÁÑ∂') :
                    filter === 'culture' ? (currentLanguage === 'en' ? 'Culture' : currentLanguage === 'zh' ? 'ÊñáÂåñ' : 'ÊñáÂåñ') :
                    (currentLanguage === 'en' ? 'Family' : currentLanguage === 'zh' ? 'ÂÆ∂Â∫≠' : 'ÂÆ∂Êóè');
            });
            
            // „Çπ„Éù„ÉÉ„Éà„ÅÆÂÜçË°®Á§∫
            renderSpots();
            
            // Ë©≥Á¥∞„Éö„Éº„Ç∏„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØÂÜçË°®Á§∫
            if (currentSpotId !== null) {
                renderSpotDetail(currentSpotId);
            }
        }

        // „É¢„Éº„Éâ„ÅÆÊõ¥Êñ∞
        function updateMode() {
            if (darkMode) {
                document.body.classList.remove('light-mode');
                modeIcon.textContent = 'üåô';
            } else {
                document.body.classList.add('light-mode');
                modeIcon.textContent = '‚òÄÔ∏è';
            }
        }

        // „Çπ„Éù„ÉÉ„Éà„ÅÆË°®Á§∫
        function renderSpots() {
            spotGrid.innerHTML = '';
            
            const searchTerm = searchInput.value.toLowerCase();
            
            spots.forEach(spot => {
                // „Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                if (activeFilter !== 'all' && !spot.tags.includes(activeFilter)) {
                    return;
                }
                
                // Ê§úÁ¥¢„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                const name = spot.name[currentLanguage].toLowerCase();
                const desc = spot.description[currentLanguage].toLowerCase();
                const loc = spot.location[currentLanguage].toLowerCase();
                
                if (searchTerm && !(name.includes(searchTerm) && !(desc.includes(searchTerm)) {
                    return;
                }
                
                const isFavorite = favorites.includes(spot.id);
                
                const card = document.createElement('div');
                card.className = 'spot-card';
                card.dataset.id = spot.id;
                
                card.innerHTML = `
                    ${spot.image ? 
                        `<img src="${spot.image}" alt="${spot.name.en}" class="spot-image">` : 
                        `<div class="image-placeholder"><i class="fas fa-landmark"></i></div>`}
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-id="${spot.id}">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="spot-info">
                        <h2 class="spot-name">${spot.name[currentLanguage]}</h2>
                        <div class="spot-location">
                            <i class="fas fa-map-marker-alt"></i> ${spot.location[currentLanguage]}
                        </div>
                        <p class="spot-description">${spot.description[currentLanguage]}</p>
                    </div>
                `;
                
                card.addEventListener('click', (e) => {
                    if (!e.target.closest('.favorite-btn')) {
                        showSpotDetail(spot.id);
                    }
                });
                
                // „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥
                const favBtn = card.querySelector('.favorite-btn');
                favBtn.addEventListener('click', () => toggleFavorite(spot.id));
                
                spotGrid.appendChild(card);
            });
            
            // „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆË°®Á§∫Êõ¥Êñ∞
            renderFavorites();
        }
        
        // „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆË°®Á§∫
        function renderFavorites() {
            if (!favoritesGrid) return;
            
            favoritesGrid.innerHTML = '';
            
            if (favorites.length === 0) {
                const noFav = document.createElement('div');
                noFav.className = 'no-favorites';
                noFav.innerHTML = `
                    <i class="fas fa-heart-broken"></i>
                    <p>${currentLanguage === 'en' ? 'No favorites yet. Click the heart icon to add some!' : 
                      currentLanguage === 'zh' ? 'ËøòÊ≤°ÊúâÊî∂Ëóè„ÄÇÁÇπÂáªÂøÉÂΩ¢ÂõæÊ†áÊ∑ªÂä†‰∏Ä‰∫õÔºÅ' : 
                      '„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Éè„Éº„Éà„Ç¢„Ç§„Ç≥„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ËøΩÂä†„Åó„Åæ„Åó„Çá„ÅÜÔºÅ'}</p>
                `;
                favoritesGrid.appendChild(noFav);
                return;
            }
            
            favorites.forEach(id => {
                const spot = spots.find(s => s.id === id);
                if (!spot) return;
                
                const card = document.createElement('div');
                card.className = 'spot-card pulse';
                card.dataset.id = spot.id;
                
                card.innerHTML = `
                    ${spot.image ? 
                        `<img src="${spot.image}" alt="${spot.name.en}" class="spot-image">` : 
                        `<div class="image-placeholder"><i class="fas fa-landmark"></i></div>`}
                    <button class="favorite-btn active" data-id="${spot.id}">
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="spot-info">
                        <h2 class="spot-name">${spot.name[currentLanguage]}</h2>
                        <div class="spot-location">
                            <i class="fas fa-map-marker-alt"></i> ${spot.location[currentLanguage]}
                        </div>
                        <p class="spot-description">${spot.description[currentLanguage]}</p>
                    </div>
                `;
                
                card.addEventListener('click', (e) => {
                    if (!e.target.closest('.favorite-btn')) {
                        showSpotDetail(spot.id);
                    }
                });
                
                // „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥
                const favBtn = card.querySelector('.favorite-btn');
                favBtn.addEventListener('click', () => toggleFavorite(spot.id));
                
                favoritesGrid.appendChild(card);
            });
        }
        
        // „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆ„Éà„Ç∞„É´
        function toggleFavorite(id) {
            const index = favorites.indexOf(id);
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push(id);
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            renderSpots();
        }

        // Ë©≥Á¥∞„Éö„Éº„Ç∏„ÅÆË°®Á§∫
        function showSpotDetail(id) {
            currentSpotId = id;
            mainPage.style.display = 'none';
            detailPage.style.display = 'block';
            renderSpotDetail(id);
        }

        // Ë©≥Á¥∞„Éö„Éº„Ç∏„ÅÆ„É¨„É≥„ÉÄ„É™„É≥„Ç∞
        function renderSpotDetail(id) {
            const spot = spots.find(s => s.id === id);
            const isFavorite = favorites.includes(id);
            
            detailPage.innerHTML = `
                <div class="detail-header">
                    ${spot.image ? 
                        `<img src="${spot.image}" alt="${spot.name.en}" class="detail-image">` : 
                        `<div class="detail-image-placeholder"><i class="fas fa-landmark"></i></div>`}
                    <button class="back-btn" id="backBtn">
                        <i class="fas fa-arrow-left"></i> ${currentLanguage === 'en' ? 'Back' : currentLanguage === 'zh' ? 'ËøîÂõû' : 'Êàª„Çã'}
                    </button>
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" id="detailFavoriteBtn" data-id="${spot.id}">
                        <i class="fas fa-heart"></i>
                    </button>
                    <h2 class="detail-title">${spot.name[currentLanguage]}</h2>
                </div>
                <div class="detail-content">
                    <div class="detail-section">
                        <h3 class="section-title"><i class="fas fa-info-circle"></i> ${currentLanguage === 'en' ? 'Description' : currentLanguage === 'zh' ? 'ÊèèËø∞' : 'Ë™¨Êòé'}</h3>
                        <p>${spot.description[currentLanguage]}</p>
                    </div>
                    <div class="detail-section">
                        <h3 class="section-title"><i class="fas fa-subway"></i> ${currentLanguage === 'en' ? 'Access' : currentLanguage === 'zh' ? '‰∫§ÈÄö' : '„Ç¢„ÇØ„Çª„Çπ'}</h3>
                        <p>${spot.access[currentLanguage]}</p>
                    </div>
                    <div class="detail-section">
                        <h3 class="section-title"><i class="fas fa-map-marked-alt"></i> ${currentLanguage === 'en' ? 'Nearby Spots' : currentLanguage === 'zh' ? 'ÈôÑËøëÊôØÁÇπ' : 'Ëøë„Åè„ÅÆ„Çπ„Éù„ÉÉ„Éà'}</h3>
                        <p>${spot.nearby[currentLanguage]}</p>
                        <div class="map-container">
                            <i class="fas fa-map-marked-alt fa-3x"></i>
                            <p>${currentLanguage === 'en' ? 'Interactive Map' : currentLanguage === 'zh' ? '‰∫§‰∫íÂºèÂú∞Âõæ' : '„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Éû„ÉÉ„Éó'}</p>
                        </div>
                    </div>
                    <div class="detail-section">
                        <h3 class="section-title"><i class="fas fa-globe"></i> ${currentLanguage === 'en' ? 'Official Website' : currentLanguage === 'zh' ? 'ÂÆòÊñπÁΩëÁ´ô' : 'ÂÖ¨Âºè„Çµ„Ç§„Éà'}</h3>
                        <a href="${spot.official}" target="_blank" class="official-link">
                            <i class="fas fa-external-link-alt"></i>
                            ${currentLanguage === 'en' ? 'Visit Website' : currentLanguage === 'zh' ? 'ËÆøÈóÆÁΩëÁ´ô' : '„Çµ„Ç§„Éà„ÇíË®™Âïè'}
                        </a>
                    </div>
                </div>
            `;
            
            // Êàª„Çã„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            document.getElementById('backBtn').addEventListener('click', () => {
                detailPage.style.display = 'none';
                mainPage.style.display = 'block';
                currentSpotId = null;
            });
            
            // „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            document.getElementById('detailFavoriteBtn').addEventListener('click', () => {
                toggleFavorite(spot.id);
                renderSpotDetail(id);
            });
        }

        // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
        function setupEventListeners() {
            // Ë®ÄË™ûÂàá„ÇäÊõø„Åà
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    currentLanguage = btn.dataset.lang;
                    localStorage.setItem('language', currentLanguage);
                    updateLanguageButtons();
                });
            });
            
            // „ÉÄ„Éº„ÇØ/„É©„Ç§„Éà„É¢„Éº„ÉâÂàá„ÇäÊõø„Åà
            modeToggle.addEventListener('click', () => {
                darkMode = !darkMode;
                localStorage.setItem('darkMode', darkMode);
                updateMode();
            });
            
            // Ê§úÁ¥¢„Éú„ÉÉ„ÇØ„Çπ
            searchInput.addEventListener('input', () => {
                renderSpots();
            });
            
            // „Éï„Ç£„É´„Çø„Éº„Éú„Çø„É≥
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelector('.filter-btn.active').classList.remove('active');
                    btn.classList.add('active');
                    activeFilter = btn.dataset.filter;
                    renderSpots();
                });
            });
        }
    </script>
</body>
</html>
